{% extends "_base.html" %}

{% block title %}Quota for project {{project.name}}{% endblock title %}
{% block maincontent %}
{% if error %}
<div class="alert alert-danger">
  {{error}}
</div>
{% endif %}

{% if messages %}
<div class="alert alert-info">
  {% for msg in messages %}
  <p>{{msg}}</p>
  {% endfor %}
</div>
{% endif %}


<h1>Quota for project {{project.name}}</h1>

Current roles:
<ul>
  {% for role in auth.roles %}
  <li>{{role}}</li>
  {% endfor %}
</ul>

<form action="" method="post" class="form" role="form">
  {{ form.hidden_tag() }}
  <h2>Compute (nova)</h2>
  <div class="form-group row">

    {{ form.c_cores(class="form-control", size=4) }}

    {{ form.c_instances(class="form-control", size=4) }}

    {{ form.c_ram(class="form-control") }}
  </div>

  <h2>Network (neutron)</h2>
  <div class="form-group row">
      {{ form.n_port(class="form-control") }}

      {{ form.n_network(class="form-control") }}

      {{ form.n_subnet(class="form-control") }}
  </div>

  <!-- neutron, second row -->
  <div class="form-group row">
      {{ form.n_security_group(class="form-control") }}

      {{ form.n_floatingip(class="form-control") }}

      {{ form.n_router(class="form-control") }}
  </div>
  

  <h2>Block Storage (cinder)</h2>
  <div class="form-group row">

    {{ form.v_volumes(class="form-control")}}    

    {{ form.v_gigabytes(class="form-control")}}    

  </div>

  {% if form.s_bytes %}
  {% if 'ResellerAdmin' not in auth.roles %}
  <div class="alert alert-danger">
    You don't currently have the role <b>ResellerAdmin</b>. This
    might prevent you from updating Swift quota.
  </div>
  {% endif %}
  
  <h2>Object Storage (swift)</h2>
  <div class="form-group row">
    {{ form.s_bytes(class="form-control") }}
  </div>
  {% endif %}

  <h2>Commit log</h2>
  <div class="form-group row">
    {% if form.comment.errors %}
    <div class="col-xs-10 has-error">
      {% else %}
    <div class="col-xs-10">
    {% endif %}
      {{form.comment(class="form-control")}}
      <span class="help-block">{% for line in form.comment.errors %}{{line}}<br />{% endfor %}</span>
    </div>
  </div>
  
  <div class="form-group row">
    <div class="col-xs-10">
      {{form.submit(class="btn btn-default")}}
    </div>
  </div>
</form>
</div>

{% endblock maincontent %}
